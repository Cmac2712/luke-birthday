!function(i){"use strict";fusionredux.field_objects=fusionredux.field_objects||{},fusionredux.field_objects.color=fusionredux.field_objects.color||{},i(document).ready(function(){}),fusionredux.field_objects.color.init=function(n){n||(n=i(document).find(".fusionredux-group-tab:visible").find(".fusionredux-container-color:visible")),i(n).each(function(){var n=i(this),t=n;n.hasClass("fusionredux-field-container")||(t=n.parents(".fusionredux-field-container:first")),t.is(":hidden")||t.hasClass("fusionredux-field-init")&&(t.removeClass("fusionredux-field-init"),n.find(".fusionredux-color-init").wpColorPicker({change:function(t,r){i(this).val(r.color.toString()),fusionredux_change(i(this)),n.find("#"+t.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(n,t){i(this).val(""),fusionredux_change(i(this).parent().find(".fusionredux-color-init"))},palettes:["#000000","#ffffff","#f44336","#E91E63","#03A9F4","#00BCD4","#8BC34A","#FFEB3B","#FFC107","#FF9800","#607D8B"]}),n.find(".fusionredux-color").on("focus",function(){i(this).data("oldcolor",i(this).val())}),n.find(".fusionredux-color").on("keyup",function(){var t=i(this).val(),r=colorValidate(this),e="#"+i(this).attr("id");"transparent"===t?(i(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),n.find(e+"-transparency").attr("checked","checked")):(n.find(e+"-transparency").removeAttr("checked"),r&&r!==i(this).val()&&i(this).val(r))}),n.find(".fusionredux-color").on("blur",function(){var t=i(this).val(),r="#"+i(this).attr("id");"transparent"===t?(i(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),n.find(r+"-transparency").attr("checked","checked")):(colorValidate(this)===t&&0!==t.indexOf("#")&&i(this).val(i(this).data("oldcolor")),n.find(r+"-transparency").removeAttr("checked"))}),n.find(".fusionredux-color").on("keydown",function(){i(this).data("oldkeypress",i(this).val())}),n.find(".color-transparency").on("click",function(){if(i(this).is(":checked"))n.find(".fusionredux-saved-color").val(i("#"+i(this).data("id")).val()),n.find("#"+i(this).data("id")).val("transparent"),n.find("#"+i(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===n.find("#"+i(this).data("id")).val()){var t=i(".fusionredux-saved-color").val();""===t&&(t=i("#"+i(this).data("id")).data("default-color")),n.find("#"+i(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",t),n.find("#"+i(this).data("id")).val(t)}fusionredux_change(i(this))}))})}}(jQuery);