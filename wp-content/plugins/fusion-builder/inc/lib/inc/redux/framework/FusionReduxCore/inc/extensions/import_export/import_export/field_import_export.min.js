!function(a){"use strict";fusionredux.field_objects=fusionredux.field_objects||{},fusionredux.field_objects.import_export=fusionredux.field_objects.import_export||{},fusionredux.field_objects.import_export.init=function(b){b||(b=a(document).find(".fusionredux-group-tab:visible").find(".fusionredux-container-import_export:visible")),a(b).each(function(){var b=a(this),c=b;b.hasClass("fusionredux-field-container")||(c=b.parents(".fusionredux-field-container:first")),c.is(":hidden")||c.hasClass("fusionredux-field-init")&&(c.removeClass("fusionredux-field-init"),b.each(function(){a("#fusionredux-import").click(function(b){if(""===a("#import-code-value").val()&&""===a("#import-link-value").val())return b.preventDefault(),!1;window.onbeforeunload=null,fusionredux.args.ajax_save=!1}),a(this).find("#fusionredux-import-code-button").click(function(){var b=a("#fusionredux-import-code-wrapper");a("#fusionredux-import-link-wrapper").is(":visible")?(a("#import-link-value").text(""),a("#fusionredux-import-link-wrapper").slideUp("fast",function(){b.slideDown("fast",function(){a("#import-code-value").focus()})})):b.is(":visible")?b.slideUp():b.slideDown("medium",function(){a("#import-code-value").focus()})}),a(this).find("#fusionredux-import-link-button").click(function(){var b=a("#fusionredux-import-link-wrapper");a("#fusionredux-import-code-wrapper").is(":visible")?(a("#import-code-value").text(""),a("#fusionredux-import-code-wrapper").slideUp("fast",function(){b.slideDown("fast",function(){a("#import-link-value").focus()})})):b.is(":visible")?b.slideUp():b.slideDown("medium",function(){a("#import-link-value").focus()})}),a(this).find("#fusionredux-export-code-copy").click(function(){var b=a("#fusionredux-export-code");a("#fusionredux-export-link-value").is(":visible")?a("#fusionredux-export-link-value").slideUp("fast",function(){b.slideDown("medium",function(){var b=fusionredux.options;b["fusionredux-backup"]=1,a(this).text(JSON.stringify(b)).focus().select()})}):b.is(":visible")?b.slideUp().text(""):b.slideDown("medium",function(){var b=fusionredux.options;b["fusionredux-backup"]=1,a(this).text(JSON.stringify(b)).focus().select()})}),a(this).find("textarea").focusout(function(){var b=a(this).attr("id"),c=a(this),d=c;"import-link-value"!=b&&"import-code-value"!=b||(d=a(this).parent()),d.slideUp("medium",function(){"fusionredux-export-link-value"!=b&&c.text("")})}),a(this).find("#fusionredux-export-link").click(function(){var b=a("#fusionredux-export-link-value");a("#fusionredux-export-code").is(":visible")?a("#fusionredux-export-code").slideUp("fast",function(){b.slideDown().focus().select()}):b.is(":visible")?b.slideUp():b.slideDown("medium",function(){a(this).focus().select()})});var b=document.getElementById("fusionredux-export-code");b.onfocus=function(){b.select(),b.onmouseup=function(){return b.onmouseup=null,!1}};var c=document.getElementById("import-code-value");c.onfocus=function(){c.select(),c.onmouseup=function(){return c.onmouseup=null,!1}}}))})}}(jQuery);