!function(Z){"use strict";Z.fn.fusionChartElement=function(){var a,e,s,t,o,l,i=Z(this),r=void 0!==i.data("type")?i.data("type"):"line",d=void 0!==i.data("border_size")?i.data("border_size"):1,n=void 0!==i.data("border_type")?i.data("border_type"):"smooth",c=void 0!==i.data("chart_fill")?i.data("chart_fill"):"yes",p=void 0!==i.data("x_axis_label")?i.data("x_axis_label"):"",_=void 0!==i.data("y_axis_label")?i.data("y_axis_label"):"",h=[],g=void 0!==i.data("show_tooltips")?i.data("show_tooltips"):"yes",b=[],u="",x=[],v="",f=void 0!==i.data("chart_axis_text_color")?i.data("chart_axis_text_color"):null,y=void 0!==i.data("chart_gridline_color")?i.data("chart_gridline_color"):null,A=0,k=[],L=void 0!==i.data("chart_legend_position")?i.data("chart_legend_position"):"off",C=void 0!==i.data("chart_point_style")?i.data("chart_point_style"):"",m=void 0!==i.data("chart_point_size")?i.data("chart_point_size"):"",S=void 0!==i.data("chart_point_border_color")?i.data("chart_point_border_color"):"",w=void 0!==i.data("chart_point_bg_color")?i.data("chart_point_bg_color"):"",z=Z("body").hasClass("rtl"),B={labels:[],datasets:[]},E={responsive:!0,tooltips:{enabled:!0},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]},legend:{labels:{},display:!0},layout:{padding:{left:5,right:5,top:5,bottom:5}}},j=i.find(".fusion-chart-dataset"),R=Z(j).length;if(0!==R){for((5<m||5<d)&&(E.layout.padding.top=m<d?d:m),"polarArea"!==r&&"radar"!==r||(E.scale={}),(e="pie"===r||"doughnut"===r||"polarArea"===r||("bar"===r||"horizontalBar"===r)&&1===j.length)&&(void 0!==i.data("bg_colors")&&(b=i.data("bg_colors").toString().split("|")),void 0!==i.data("border_colors")&&(x=i.data("border_colors").toString().split("|")),void 0!==i.data("x_axis_labels")&&(k=i.data("x_axis_labels").toString().split("|"))),"off"===c&&(c=!1),E.tooltips.enabled="yes"===g,o=0;o<R;o++)t="",e||void 0!==Z(j[o]).data("label")&&(t=Z(j[o]).data("label").toString().trim(),B.labels.push(t),k.push(t)),e||(void 0!==Z(j[o]).data("background_color")&&b.push(Z(j[o]).data("background_color").toString().trim()),void 0!==Z(j[o]).data("border_color")&&x.push(Z(j[o]).data("border_color").toString().trim())),void 0!==Z(j[o]).data("values")&&(h[o]=Z(j[o]).data("values").toString().split("|"),!e&&A<h[o].length&&(A=h[o].length));if(void 0!==i.data("x_axis_labels")?B.labels=i.data("x_axis_labels").toString().split("|"):B.labels="pie"===r||"doughnut"===r||"polarArea"===r?new Array(j.length):new Array(A),!0===z)for(B.labels=B.labels.reverse(),b=b.reverse(),x=x.reverse(),k=k.reverse(),l=0;l<h.length;l++)h[l]=h[l].reverse();for(o=0;o<R;o++)s=[],t=e?(u=b,v=x,s=h[o],void 0!==Z(j[o]).data("label")?Z(j[o]).data("label").toString().trim():""):(u=void 0!==b[o]?b[o]:"",v=void 0!==x[o]?x[o]:"",s=h[o],void 0!==k[o]&&!0===Array.isArray(k)?k[o]:""),B.datasets.push({label:t,data:s,backgroundColor:u,borderColor:v,borderWidth:d}),"line"===r&&(B.datasets[o].fill=c,"stepped"===n&&(B.datasets[o].steppedLine=!0),""!==C&&(B.datasets[o].pointStyle=C),""!==m&&(B.datasets[o].pointRadius=m,B.datasets[o].pointHoverRadius=m),""!==S&&(B.datasets[o].pointBorderColor=S),""!==w&&(B.datasets[o].pointBackgroundColor=w));e&&(B.labels=k),"bar"!==r&&"line"!==r||(E.scales.yAxes[0].ticks={beginAtZero:!0}),"horizontalBar"===r&&(E.scales.xAxes[0].ticks={beginAtZero:!0}),""!==p&&"pie"!==r&&"doughnut"!==r&&"polarArea"!==r&&"radar"!==r&&(E.scales.xAxes[0].display=!0,E.scales.xAxes[0].scaleLabel={display:!0,labelString:p},null!==f&&(E.scales.xAxes[0].scaleLabel.fontColor=f)),""!==_&&"pie"!==r&&"doughnut"!==r&&"polarArea"!==r&&"radar"!==r&&(E.scales.yAxes[0].display=!0,E.scales.yAxes[0].scaleLabel={display:!0,labelString:_},null!==f&&(E.scales.yAxes[0].scaleLabel.fontColor=f),!0===z&&"horizontalBar"!==r&&(E.scales.yAxes[0].position="right")),"line"===r&&"non_smooth"===n&&(E.elements={line:{tension:1e-6}}),E.legend.display=!1,E.legendCallback=function(a){var e,s,t=[];for(t.push('<ul class="fusion-chart-legend-'+a.id+'">'),e=0;e<k.length;e++)s=void 0!==b[e]?b[e]:"transparent",t.push('<li><span style="background-color:'+s+'">'),k[e]&&t.push(k[e]),t.push("</span></li>");return t.push("</ul>"),t.join("")},null!==y&&("polarArea"===r||"radar"===r?(void 0===E.scale.gridLines&&(E.scale.gridLines={},E.scale.angleLines={}),E.scale.gridLines.color=y,E.scale.angleLines.color=y):(void 0===E.scales.yAxes[0].gridLines&&(E.scales.yAxes[0].gridLines={}),void 0===E.scales.xAxes[0].gridLines&&(E.scales.xAxes[0].gridLines={}),E.scales.xAxes[0].gridLines.color=y,E.scales.yAxes[0].gridLines.color=y)),null!==f&&("polarArea"===r||"radar"===r?(void 0===E.scale.ticks&&(E.scale.ticks={}),E.scale.ticks.fontColor=f):(void 0===E.scales.yAxes[0].ticks&&(E.scales.yAxes[0].ticks={}),void 0===E.scales.xAxes[0].ticks&&(E.scales.xAxes[0].ticks={}),E.scales.xAxes[0].ticks.fontColor=f,E.scales.yAxes[0].ticks.fontColor=f)),a=new Chart(i.find("canvas").get(0),{type:r,data:B,options:E}),"off"!==L&&i.find(".fusion-chart-legend-wrap").html(a.generateLegend())}},Z(window).on("load",function(){Z.each(Z(".fusion-chart"),function(){Z(this).fusionChartElement()})}),Z(window).on("fusion-element-render-fusion_chart",function(a,e){Z('div[data-cid="'+e+'"]').find(".fusion-chart").fusionChartElement()})}(jQuery);